{
	"info": {
		"name": "ERP Finance - AP (Accounts Payable)",
		"description": "AP Invoices, Payments, Vendor Management, and 3-Way Matching",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "AP Invoices",
			"item": [
				{
					"name": "List AP Invoices",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ""]
						},
						"description": "Get all AP invoices"
					},
					"response": []
				},
				{
					"name": "Get AP Invoice by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create AP Invoice (Dynamic Segments)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"supplier\": 1,\n  \"number\": \"VINV-2025-001\",\n  \"date\": \"2025-11-13\",\n  \"due_date\": \"2025-12-13\",\n  \"currency\": 1,\n  \"country\": \"AE\",\n  \"items\": [\n    {\n      \"description\": \"Office Supplies\",\n      \"quantity\": 10,\n      \"unit_price\": \"50.00\",\n      \"tax_rate\": 1\n    }\n  ],\n  \"distributions\": [\n    {\n      \"amount\": \"500.00\",\n      \"description\": \"Office Supplies Expense\",\n      \"segments\": [\n        {\n          \"segment_type\": 1,\n          \"segment\": 501\n        },\n        {\n          \"segment_type\": 2,\n          \"segment\": 201\n        }\n      ]\n    },\n    {\n      \"amount\": \"25.00\",\n      \"description\": \"VAT Input\",\n      \"segments\": [\n        {\n          \"segment_type\": 1,\n          \"segment\": 215\n        },\n        {\n          \"segment_type\": 2,\n          \"segment\": 201\n        }\n      ]\n    },\n    {\n      \"amount\": \"525.00\",\n      \"description\": \"Accounts Payable\",\n      \"segments\": [\n        {\n          \"segment_type\": 1,\n          \"segment\": 200\n        },\n        {\n          \"segment_type\": 2,\n          \"segment\": 201\n        }\n      ]\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ""]
						},
						"description": "Create AP invoice with dynamic segments"
					},
					"response": []
				},
				{
					"name": "Update AP Invoice",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"supplier\": 1,\n  \"number\": \"VINV-2025-001\",\n  \"date\": \"2025-11-13\",\n  \"due_date\": \"2025-12-13\",\n  \"currency\": 1,\n  \"country\": \"AE\",\n  \"items\": [\n    {\n      \"description\": \"Updated Office Supplies\",\n      \"quantity\": 15,\n      \"unit_price\": \"50.00\",\n      \"tax_rate\": 1\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete AP Invoice",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Submit AP Invoice for Approval",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"submitted_by\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/:id/submit-for-approval/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ":id", "submit-for-approval", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Post AP Invoice to GL",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/:id/post-gl/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ":id", "post-gl", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Post AP invoice to GL. Must be APPROVED first."
					},
					"response": []
				},
				{
					"name": "Three-Way Match",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/:id/three-way-match/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", ":id", "three-way-match", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Perform 3-way match (PO -> GRN -> Invoice)"
					},
					"response": []
				},
				{
					"name": "Get GRNs Needing Invoice",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/invoices/grns-needing-invoice/?supplier=1",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "invoices", "grns-needing-invoice", ""],
							"query": [
								{
									"key": "supplier",
									"value": "1",
									"description": "Filter by supplier",
									"disabled": true
								},
								{
									"key": "po_number",
									"value": "PO-001",
									"description": "Filter by PO number",
									"disabled": true
								}
							]
						},
						"description": "Get GRNs that need AP invoicing"
					},
					"response": []
				}
			]
		},
		{
			"name": "AP Payments",
			"item": [
				{
					"name": "List AP Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/payments/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "payments", ""],
							"query": [
								{
									"key": "supplier",
									"value": "1",
									"disabled": true
								},
								{
									"key": "reconciled",
									"value": "false",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get AP Payment by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/payments/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "payments", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create AP Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"invoice\": 1,\n  \"payment_date\": \"2025-11-13\",\n  \"amount\": \"525.00\",\n  \"currency\": 1,\n  \"memo\": \"Payment for invoice VINV-2025-001\",\n  \"bank_account\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/payments/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "payments", ""]
						}
					},
					"response": []
				},
				{
					"name": "Reconcile AP Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reconciliation_ref\": \"BANK-REF-67890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/payments/:id/reconcile/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "payments", ":id", "reconcile", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Unreconcile AP Payment",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/payments/:id/unreconcile/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "payments", ":id", "unreconcile", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Outstanding AP Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/payments/outstanding/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "payments", "outstanding", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Vendors (Suppliers)",
			"item": [
				{
					"name": "List Vendors",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ""],
							"query": [
								{
									"key": "country",
									"value": "AE",
									"disabled": true
								},
								{
									"key": "is_active",
									"value": "true",
									"disabled": true
								},
								{
									"key": "is_preferred",
									"value": "true",
									"disabled": true
								},
								{
									"key": "onboarding_status",
									"value": "COMPLETED",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vendor by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Vendor",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"VEND-001\",\n  \"name\": \"XYZ Supplies\",\n  \"legal_name\": \"XYZ Supplies LLC\",\n  \"email\": \"info@xyzsupplies.com\",\n  \"phone\": \"+971501234567\",\n  \"address\": \"Dubai, UAE\",\n  \"country\": \"AE\",\n  \"vat_number\": \"100234567800003\",\n  \"tax_id\": \"TAX-123456\",\n  \"vendor_category\": \"GOODS\",\n  \"payment_terms\": 30,\n  \"credit_limit\": \"100000.00\",\n  \"is_active\": true,\n  \"onboarding_status\": \"IN_PROGRESS\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ""]
						}
					},
					"response": []
				},
				{
					"name": "Update Vendor",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"VEND-001\",\n  \"name\": \"XYZ Supplies Ltd\",\n  \"legal_name\": \"XYZ Supplies LLC\",\n  \"email\": \"info@xyzsupplies.com\",\n  \"phone\": \"+971501234567\",\n  \"address\": \"Dubai, UAE\",\n  \"country\": \"AE\",\n  \"vat_number\": \"100234567800003\",\n  \"tax_id\": \"TAX-123456\",\n  \"vendor_category\": \"GOODS\",\n  \"payment_terms\": 45,\n  \"credit_limit\": \"150000.00\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Vendor",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark Vendor as Preferred",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/mark_preferred/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "mark_preferred", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Preferred Status",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/remove_preferred/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "remove_preferred", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Put Vendor on Hold",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Quality issues with recent deliveries\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/put_on_hold/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "put_on_hold", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Hold Status",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/remove_hold/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "remove_hold", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Blacklist Vendor",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Fraud detected\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/blacklist/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "blacklist", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Blacklist",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/remove_blacklist/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "remove_blacklist", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vendor Performance Summary",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/performance_summary/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "performance_summary", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vendor Onboarding Progress",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/onboarding_progress/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "onboarding_progress", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Complete Vendor Onboarding",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/:id/complete_onboarding/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", ":id", "complete_onboarding", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vendor Statistics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/statistics/",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", "statistics", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get Vendors with Expiring Documents",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ap/vendors/expiring_documents/?days=30",
							"host": ["{{base_url}}"],
							"path": ["api", "ap", "vendors", "expiring_documents", ""],
							"query": [
								{
									"key": "days",
									"value": "30"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Invoice Approvals",
			"item": [
				{
					"name": "List Invoice Approvals",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/invoice-approvals/",
							"host": ["{{base_url}}"],
							"path": ["api", "invoice-approvals", ""],
							"query": [
								{
									"key": "status",
									"value": "PENDING_APPROVAL",
									"disabled": true
								},
								{
									"key": "invoice_type",
									"value": "AP",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Approval by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/invoice-approvals/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "invoice-approvals", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Approve Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"approver\": \"Jane Doe\",\n  \"comments\": \"Approved for payment\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/invoice-approvals/:id/approve/",
							"host": ["{{base_url}}"],
							"path": ["api", "invoice-approvals", ":id", "approve", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Reject Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"approver\": \"Jane Doe\",\n  \"comments\": \"Missing supporting documents\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/invoice-approvals/:id/reject/",
							"host": ["{{base_url}}"],
							"path": ["api", "invoice-approvals", ":id", "reject", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}