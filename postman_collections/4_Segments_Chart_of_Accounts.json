{
	"info": {
		"name": "ERP Finance - Segments & Chart of Accounts",
		"description": "Dynamic Segment Management including Chart of Accounts, Departments, Cost Centers, Projects, etc.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Segment Types",
			"item": [
				{
					"name": "List Segment Types",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ""],
							"query": [
								{
									"key": "is_required",
									"value": "true",
									"disabled": true
								},
								{
									"key": "is_active",
									"value": "true",
									"disabled": true
								},
								{
									"key": "has_hierarchy",
									"value": "true",
									"disabled": true
								}
							]
						},
						"description": "Get all segment types (Account, Department, Cost Center, Project, etc.)"
					},
					"response": []
				},
				{
					"name": "Get Segment Type by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Segment Type",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"segment_name\": \"Project\",\n  \"segment_type\": \"PRJ\",\n  \"description\": \"Project tracking segment\",\n  \"is_required\": true,\n  \"is_active\": true,\n  \"has_hierarchy\": false,\n  \"display_order\": 4\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/segment/types/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ""]
						}
					},
					"response": []
				},
				{
					"name": "Update Segment Type",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"segment_name\": \"Project\",\n  \"segment_type\": \"PRJ\",\n  \"description\": \"Project tracking and cost allocation\",\n  \"is_required\": false,\n  \"is_active\": true,\n  \"has_hierarchy\": false,\n  \"display_order\": 4\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/segment/types/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "4"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Segment Type",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "4"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Segment Type Values",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/:id/values/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ":id", "values", ""],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Get all segment values for this segment type"
					},
					"response": []
				},
				{
					"name": "Get Segment Type Names",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/names/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", "names", ""]
						},
						"description": "Get list of segment type names only"
					},
					"response": []
				},
				{
					"name": "Deactivate Segment Type",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/:id/deactivate/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ":id", "deactivate", ""],
							"variable": [
								{
									"key": "id",
									"value": "4"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Activate Segment Type",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/types/:id/activate/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "types", ":id", "activate", ""],
							"variable": [
								{
									"key": "id",
									"value": "4"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Segments (Values)",
			"item": [
				{
					"name": "List Segments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ""],
							"query": [
								{
									"key": "segment_type",
									"value": "1",
									"description": "Filter by segment type ID",
									"disabled": true
								},
								{
									"key": "is_active",
									"value": "true",
									"disabled": true
								},
								{
									"key": "code",
									"value": "1000",
									"disabled": true
								}
							]
						},
						"description": "Get all segments across all types"
					},
					"response": []
				},
				{
					"name": "Get Segment by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "101"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Segment (Child/Leaf)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"segment_type\": 1,\n  \"code\": \"1000-001\",\n  \"alias\": \"Cash in Hand\",\n  \"description\": \"Petty cash and physical cash\",\n  \"level\": 2,\n  \"parent_code\": \"1000\",\n  \"node_type\": \"child\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/segment/values/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ""]
						},
						"description": "Create a child/leaf segment. Only child segments can be used in transactions."
					},
					"response": []
				},
				{
					"name": "Create Segment (Parent/Heading)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"segment_type\": 1,\n  \"code\": \"1000\",\n  \"alias\": \"Current Assets\",\n  \"description\": \"Assets expected to be converted to cash within one year\",\n  \"level\": 1,\n  \"parent_code\": null,\n  \"node_type\": \"parent\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/segment/values/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ""]
						},
						"description": "Create a parent/heading segment for hierarchy"
					},
					"response": []
				},
				{
					"name": "Update Segment",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"segment_type\": 1,\n  \"code\": \"1000-001\",\n  \"alias\": \"Cash in Hand - Main\",\n  \"description\": \"Main petty cash fund\",\n  \"level\": 2,\n  \"parent_code\": \"1000\",\n  \"node_type\": \"child\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "101"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Segment",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", ""],
							"variable": [
								{
									"key": "id",
									"value": "101"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Deactivate Segment",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/deactivate/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", "deactivate", ""],
							"variable": [
								{
									"key": "id",
									"value": "101"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Activate Segment",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/activate/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", "activate", ""],
							"variable": [
								{
									"key": "id",
									"value": "101"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Segment Usage",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/check_usage/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", "check_usage", ""],
							"variable": [
								{
									"key": "id",
									"value": "101"
								}
							]
						},
						"description": "Check if segment is used in transactions"
					},
					"response": []
				},
				{
					"name": "Get Segment Children",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/children/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", "children", ""],
							"variable": [
								{
									"key": "id",
									"value": "100"
								}
							]
						},
						"description": "Get direct children of a segment"
					},
					"response": []
				},
				{
					"name": "Get Segment Descendants",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/:id/descendants/",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", ":id", "descendants", ""],
							"variable": [
								{
									"key": "id",
									"value": "100"
								}
							]
						},
						"description": "Get all descendants recursively"
					},
					"response": []
				},
				{
					"name": "Get Child Segments (For Transaction Selection)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/child_segments/?segment_type=1&is_active=true",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", "child_segments", ""],
							"query": [
								{
									"key": "segment_type",
									"value": "1",
									"description": "Required - segment type ID"
								},
								{
									"key": "is_active",
									"value": "true",
									"description": "Optional - filter by active status"
								}
							]
						},
						"description": "Get only child/leaf segments for a segment type. Use this for transaction line segment selection."
					},
					"response": []
				},
				{
					"name": "Get Segment Hierarchy Tree",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/segment/values/hierarchy/?segment_type=1",
							"host": ["{{base_url}}"],
							"path": ["api", "segment", "values", "hierarchy", ""],
							"query": [
								{
									"key": "segment_type",
									"value": "1",
									"description": "Required - segment type ID"
								}
							]
						},
						"description": "Get hierarchical tree structure for a segment type"
					},
					"response": []
				}
			]
		},
		{
			"name": "Accounts (Legacy - Use Segments Instead)",
			"item": [
				{
					"name": "List Accounts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/accounts/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", ""]
						},
						"description": "DEPRECATED: Use /api/segment/values/?segment_type=Account instead"
					},
					"response": []
				},
				{
					"name": "Get Account Hierarchy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/accounts/hierarchy/",
							"host": ["{{base_url}}"],
							"path": ["api", "accounts", "hierarchy", ""]
						},
						"description": "DEPRECATED: Use /api/segment/values/hierarchy/?segment_type=Account instead"
					},
					"response": []
				}
			]
		}
	]
}