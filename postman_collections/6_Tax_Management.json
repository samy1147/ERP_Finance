{
	"info": {
		"name": "ERP Finance - Tax Management",
		"description": "VAT/Tax rate management and Corporate Tax filing/accrual",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "VAT & Tax Rates",
			"item": [
				{
					"name": "Seed VAT Presets",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"country\": \"SA\",\n  \"overwrite\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/tax/seed-presets/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "seed-presets", ""]
						},
						"description": "Populate VAT rate presets for a country. Supports: SA (Saudi Arabia, 15%), AE (UAE, 5%), GB (UK, 20%), US (varies by state)"
					},
					"response": []
				},
				{
					"name": "List Tax Rates",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/tax/rates/?country=SA",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "rates", ""],
							"query": [
								{
									"key": "country",
									"value": "SA",
									"description": "Optional - Filter by country code",
									"disabled": true
								}
							]
						},
						"description": "Get all configured tax rates. Can filter by country."
					},
					"response": []
				}
			]
		},
		{
			"name": "Corporate Tax Accrual",
			"item": [
				{
					"name": "Create Corporate Tax Accrual",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"country\": \"SA\",\n  \"date_from\": \"2024-01-01\",\n  \"date_to\": \"2024-12-31\",\n  \"org_id\": \"ORG-001\",\n  \"override\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-accrual/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-accrual", ""]
						},
						"description": "Create corporate tax accrual journal entry for a period. Calculates tax based on profit and country rate. Prerequisites: Chart of accounts with INCOME/EXPENSE accounts and journal entries must exist."
					},
					"response": []
				}
			]
		},
		{
			"name": "Corporate Tax Filing",
			"item": [
				{
					"name": "Get Corporate Tax Filing Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-filing/1/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-filing", "1", ""]
						},
						"description": "Get detailed information for a specific tax filing. Replace '1' with the actual filing_id from the accrual response."
					},
					"response": []
				},
				{
					"name": "File Corporate Tax",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-file/1/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-file", "1", ""]
						},
						"description": "Mark a corporate tax filing as FILED (locked). Replace '1' with the actual filing_id. The filing must be in ACCRUED status."
					},
					"response": []
				},
				{
					"name": "Check Filing Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-file/1/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-file", "1", ""]
						},
						"description": "Check the current status of a filing and whether it can be filed. Replace '1' with the actual filing_id."
					},
					"response": []
				},
				{
					"name": "Get Tax Breakdown Report",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-breakdown/?country=SA&date_from=2024-01-01&date_to=2024-12-31&format=json",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-breakdown", ""],
							"query": [
								{
									"key": "country",
									"value": "SA",
									"description": "Country code"
								},
								{
									"key": "date_from",
									"value": "2024-01-01",
									"description": "Start date"
								},
								{
									"key": "date_to",
									"value": "2024-12-31",
									"description": "End date"
								},
								{
									"key": "format",
									"value": "json",
									"description": "Response format: json or csv"
								},
								{
									"key": "org_id",
									"value": "",
									"description": "Optional - Organization ID",
									"disabled": true
								}
							]
						},
						"description": "Get detailed breakdown of income and expenses for tax calculation. Supports JSON and CSV export."
					},
					"response": []
				}
			]
		},
		{
			"name": "Corporate Tax Reversal",
			"item": [
				{
					"name": "Check if Filing Can Be Reversed",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-reverse/1/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-reverse", "1", ""]
						},
						"description": "Check if a corporate tax filing can be reversed. Replace '1' with the actual filing_id. Returns current status and whether reversal is possible."
					},
					"response": []
				},
				{
					"name": "Reverse Corporate Tax Entry",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/api/tax/corporate-reverse/1/",
							"host": ["{{base_url}}"],
							"path": ["api", "tax", "corporate-reverse", "1", ""]
						},
						"description": "Reverse a corporate tax accrual journal entry. Replace '1' with the actual filing_id. Creates a reversal journal entry and updates filing status to REVERSED."
					},
					"response": []
				}
			]
		}
	]
}